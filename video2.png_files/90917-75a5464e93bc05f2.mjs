"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90917],{360284:(e,t,n)=>{n.d(t,{cC:()=>o,jy:()=>a,qr:()=>s,sk:()=>i});let r=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:r(e)}),o=e=>({type:"I32",value:r(e)}),i=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},2171:(e,t,n)=>{n.d(t,{N:()=>T,W:()=>E});var r=n(294726),a=n(348595),o=n(192307),i=n(353168),s=n(69118);let l=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,s.jh)("constraint_",e),...(0,s.jh)("mark_",(0,i.gQ)()),...(0,s.jh)("browser_",{...t?(0,s.D3)(t):{},...(0,s.rX)()})});var c=n(914495);let d=(e,t)=>[...e.map(e=>(0,c.Z)(e,t)).filter(Boolean)];var p=n(326081),u=n(317683),m=n(415787);let y=e=>e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",f=({eventPrefix:e,endTime:t,tags:n,resourceArr:r,resourceType:a="allResources"})=>{let o=r.length;if(o>0&&"object"==typeof r[0]&&!Array.isArray(r[0])){let i=[...r].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...r].sort((e,t)=>e.responseEnd-t.responseEnd),l=1,c=t/5,d=0;for(;l<=5;){let t=0;for(;d<=o-1&&i[d].fetchStart<=c*l;)d+=1,t+=1;(0,m.S0)(`${e}.tags.${a}.fetchStartInterval${l}of5`,t,{sampleRate:.2,tags:n}),(0,m.S0)(`${e}.${a}.fetchStartInterval${l}of5`,t,{sampleRate:.2}),l+=1}let p={zeroPercentInFlight:i[0].fetchStart,twentyFivePercentInFlight:i[Math.floor(o/4)].fetchStart,fiftyPercentInFlight:i[2*Math.floor(o/4)].fetchStart,seventyFivePercentInFlight:i[3*Math.floor(o/4)].fetchStart,hundredPercentInFlight:i[o-1].fetchStart,twentyFivePercentComplete:s[Math.floor(o/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(o/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(o/4)].responseEnd,hundredPercentComplete:s[o-1].responseEnd};for(let t in p)p[t]&&((0,m.LY)(`${e}.tags.${a}.${t}`,p[t],{sampleRate:.2,tags:n}),(0,m.LY)(`${e}.${a}.${t}`,p[t],{sampleRate:.2}))}},S=({annotateExperiments:e,endTime:t,entries:n,metricId:r,pwtStaticContext:a})=>{let o=`${(0,u.Z)(a)}.${r.surface}`,i=[o];e&&e.forEach(e=>{let t=a.getExperimentGroup(e)||"null";i.push(`${o}.${e}.${t}`)});let s={lcpTimingBucket:y((0,p.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:r.navigationType},l=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t)),c=[],d=[],m=[],S=[],v=[];l.forEach(e=>{"img"===e.initiatorType?c.push(e):"css"===e.initiatorType?d.push(e):"script"===e.initiatorType?m.push(e):"xmlhttprequest"===e.initiatorType?S.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&v.push(e)}),i.forEach(e=>{f({eventPrefix:e,endTime:t,tags:s,resourceArr:l}),f({eventPrefix:e,endTime:t,tags:s,resourceArr:c,resourceType:"image"}),f({eventPrefix:e,endTime:t,tags:s,resourceArr:d,resourceType:"css"}),f({eventPrefix:e,endTime:t,tags:s,resourceArr:m,resourceType:"scripts"}),f({eventPrefix:e,endTime:t,tags:s,resourceArr:S,resourceType:"xhr"}),f({eventPrefix:e,endTime:t,tags:s,resourceArr:v,resourceType:"preloadedImage"})})};var v=n(202953);let g=({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime,h=({type:e,annotateExperiments:t,annotations:n,binaryAnnotations:i,constraintMap:s,endTime:c,imageTimings:p,metricId:u,pwtStaticContext:m,startTime:y,traceId:f,spans:h})=>{let E;let T=(0,v.Cg)();"initial_app_load"===u.navigationType&&(E=(0,a.Z)());let k=p.map(({name:e})=>e),C=T.map(e=>(0,o.p)(e,k)).filter(({timing:e})=>!g(e,{startTime:y,endTime:c}));return("board"===u.surface||"pin_closeup"===u.surface)&&S({annotateExperiments:t,endTime:c,entries:T,metricId:u,pwtStaticContext:m}),{traceId:f,startTime:y,endTime:c,spans:d(C,f).concat(h),annotationMap:l({constraintMap:s,initialNavTiming:E,annotations:n}),binaryAnnotationMap:(0,r.rA)({type:e,annotateExperiments:t,binaryAnnotations:i,entries:T,metricId:u,performanceResources:C,pwtEndTime:c,pwtStaticContext:m})}},E=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:a,imageTimings:o,metricId:i,pwtStaticContext:s,startTime:l,traceId:c,spans:d})=>({type:"COMPLETE",...h({type:"COMPLETE",annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:a,imageTimings:o,metricId:i,pwtStaticContext:s,startTime:l,traceId:c,spans:d})}),T=({reason:e,annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:a,endTime:o,imageTimings:i,metricId:s,pwtStaticContext:l,startTime:c,traceId:d,spans:p})=>({type:"ABORT",reason:e,...h({type:"ABORT",annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:a,endTime:o,imageTimings:i,metricId:s,pwtStaticContext:l,startTime:c,traceId:d,spans:p})})},69118:(e,t,n)=>{n.d(t,{D3:()=>o,Hd:()=>l,jh:()=>s,rX:()=>i});var r=n(886303),a=n(326081);let o=e=>({...(0,r.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),i=()=>{let{largestContentfulPaint:e}=(0,a.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),l=(e,t)=>Object.keys(e).reduce((n,r)=>t.includes(r)?{...n,[r]:e[r]}:n,Object.freeze({}))},294726:(e,t,n)=>{n.d(t,{E9:()=>c,ng:()=>g,rA:()=>E});var r=n(630118),a=n(353168),o=n(360284),i=n(326081),s=n(202953),l=n(561360);let c=(e,t)=>(e||[]).reduce((e,n)=>{let r=t(n);return r?{...e,[`experiment.${n}`]:(0,o.sk)(r)}:e},{}),d=(e,t)=>"number"==typeof t?e(t):null,p=e=>Number(Number(e/1024).toFixed(3)),u=e=>e.reduce((e,t)=>e+t,0),m=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),y=e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{let a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:r}}),n=u(t.map(e=>e.requestStart-e.startTime)),r=u(t.map(e=>e.responseStart-e.requestStart)),a=u(t.map(e=>e.responseEnd-e.responseStart)),i=u(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:(0,o.cC)(p(i)),"duration.all":(0,o.cC)(n+r+a),"duration.requestStartToResponseStart":(0,o.cC)(r),"duration.responseStartToResponseEnd":(0,o.cC)(a),"duration.startToRequestStart":(0,o.cC)(n)}},f=e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{...y(t),"count.completed":(0,o.cC)(t.length)}:{},"count.all":(0,o.cC)(e.length)}},S=e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},r={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:a,startTime:o}=e[0].timing,i=a||o;n.timeSecond1.start=i,n.timeSecond1.end=i+1e3,n.timeSecond2.start=i+1e3,n.timeSecond2.end=i+2e3,n.timeSecond3.start=i+2e3,n.timeSecond3.end=i+3e3,e.forEach(e=>{let{timing:a}=e;r[e.category]=r[e.category].concat([a]),e.isDeferred&&(r.script_deferred=r.script_deferred.concat([a])),e.isExternal&&(r.external=r.external.concat([a])),e.isVisuallyCompleteRequired&&(r.visually_complete=r.visually_complete.concat([a]));let{requestStart:o,startTime:i,responseEnd:s}=a,l=o||i;t.forEach(e=>{let{start:t,end:r}=n[e];l>=t&&l<r?n[e].count+=1:l<t&&s>t&&(n[e].count+=1)})})}let a={...m("concurrentRequests.",Object.keys(n).reduce((e,t)=>e={...e,[t]:(0,o.cC)(n[t].count)},{}))};return{...Object.keys(r).reduce((e,t)=>({...e,...m(`resource.${t}.`,f(r[t]))}),a)}},v=(e,t,n,a)=>{let i;let{devicePixelRatio:c,navigator:p,innerWidth:u,innerHeight:m,performance:y}=window,{deviceMemory:f,hardwareConcurrency:S,platform:v,userAgent:g,connection:h}=p,{memory:E}=y,{appType:T,appVersion:k,browserName:C,browserVersion:w,deviceType:_,isAppShell:b,isAuthenticated:$,isBot:A,isForcedReload:L,isSocialBot:P,locale:j,osName:x,stageName:I,unauthId:M}=t,{navigationType:O}=e,q=null;if("initial_app_load"===O){i=1;let e=l.Z("navigation")[0]?.transferSize;q=e?parseFloat((.001*e).toFixed(1)):null}else i=4;let Z={"app.type":(0,o.jy)("desktop"===_?T||5:T||6),"app.version":(0,o.sk)(k),"browser.name":(0,o.sk)(C),"browser.version":(0,o.sk)(w),"cpu.speed":(0,o.jy)(S),"device.memory":(0,o.jy)(f),"device.type":(0,o.jy)(0),"device.typeName":(0,o.sk)(_),"device.version":(0,o.sk)("unknown"),"pwt.cause":(0,o.jy)(i),"net.effectiveType":(0,o.sk)(h?.effectiveType||null),"net.downlink":(0,o.cC)(d(e=>10*Math.round(e/10),h?.downlink)),"net.downlinkMax":(0,o.cC)(d(e=>10*Math.round(e/10),h?.downlinkMax)),"net.rtt":(0,o.cC)(d(e=>10*Math.round(e/10),h?.rtt)),"net.speed":(0,o.cC)((0,s.Hv)(n,!1)),"pwt.result":(0,o.jy)("COMPLETE"===a?1:2),"view.type":(0,o.cC)(0),"viewport.height":(0,o.cC)(m||0),"viewport.width":(0,o.cC)(u||0),devicePixelRatio:(0,o.cC)(c||0),isAppShell:(0,o.qr)(b),isAuthenticated:(0,o.qr)($),isBot:(0,o.qr)(A),isForcedReload:(0,o.qr)(L),isSocialBot:(0,o.qr)(P),locale:(0,o.sk)(j),osName:(0,o.sk)(x),...null!==q&&{htmlResponseSize:(0,o.cC)(q)},nextHopProtocol:(0,o.sk)(l.Z("navigation")[0]?.nextHopProtocol||null),platform:(0,o.sk)(v||null),profilerVersion:(0,o.sk)("3"),pwtActionName:(0,o.jy)((0,r.Rp)(e)),stageName:(0,o.sk)(I),userAgent:(0,o.sk)(g),usedJSHeapSize:(0,o.cC)(E?.usedJSHeapSize||0),totalJSHeapSize:(0,o.cC)(E?.totalJSHeapSize||0),jsHeapSizeLimit:(0,o.cC)(E?.jsHeapSizeLimit||0)};return $?Z:{...Z,unauthId:(0,o.sk)(M)}},g=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:r={},performanceResourceTimings:a=[],type:i})=>({...c(e,n.getExperimentGroup),...v(t,n,a,i),...r,stopwatchVersion:(0,o.jy)(1)}),h=(e,t)=>{let{navigator:n}=window,{serviceWorker:r}=n,{surface:s,navigationType:l,isAuthenticated:c}=e,{cumulativeLayoutShiftScore:d,longTaskDurations:p}=(0,i.v2)();return{...p.length?{"longTask.count":(0,o.cC)(p.length),"longTask.maxDuration":(0,o.cC)(Math.max(...p)),"longTask.totalDuration":(0,o.cC)(u(p))}:{},cumulativeLayoutShiftScore:(0,o.cC)(100*d),"masonry.paginationMarkCount":(0,o.cC)((0,a.Ao)(a.at,t)),"metricId.isAuthenticated":(0,o.qr)(c),"metricId.navigationType":(0,o.sk)(l),"metricId.surface":(0,o.sk)(s),resourceBufferClearedCount:(0,o.jy)((0,a.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,o.qr)((0,a.BA)("scrollDuringLayout",t)),serviceWorker:(0,o.qr)(r?!!r.controller:null),serviceWorkerState:(0,o.sk)(r?.controller?.state||null)}},E=({type:e,annotateExperiments:t,binaryAnnotations:n={},entries:r,metricId:a,performanceResources:o,pwtEndTime:i,pwtStaticContext:s})=>({...n,...S(o),...c(t,s.getExperimentGroup),...v(a,s,r,e),...h(a,i)})},348595:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(671481);let a=()=>{let[e]=r.Z?r.Z.getEntriesByType("navigation"):[];return e}},920301:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(920595),a=n(201738),o=n(630118),i=n(845729),s=n(248750);let l=null,c=(e,t)=>((l=l||{results:[],context:t}).results.push(e),l);var d=n(360284),p=n(348595),u=n(147921),m=n(561360);let y=(e,t)=>Object.keys(e).reduce((n,r)=>{let a=e[r];return a?{...n,[r]:{timestamp:t+a}}:n},{}),f=e=>Object.keys(e).reduce((t,n)=>{let r=e[n];if(!r)return t;let{value:a,type:o}=r;return null==a?t:t.concat({name:n,value:a,annotation_type:o})},[]),S=({span:e,timeOrigin:t})=>({id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:y(e.annotationMap,t),binary_annotations:f(e.binaryAnnotationMap)}),v=(e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:a,parentId:o,traceId:i})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:a,parentId:o,id:i}),g=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}}),{}),h=(e,t)=>({...e,annotations:{...g(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),E=(e,t,n)=>{let r=(0,p.Z)();return r?.responseEnd?h(S({span:{name:"html",startTime:0,endTime:r?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,d.sk)(m.Z("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,u.Z)(),parentId:t},timeOrigin:n}),e):null},T=({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:a})=>{let o=S({span:v(t,n),timeOrigin:r}),i=null;return a&&(o=h(o,a),i=E(a,e,r)),{trace_id:e,type:n.type,spans:[o,...i?[i]:[],...n.spans.map(e=>S({span:e,timeOrigin:r}))]}},k=e=>({debugTrace:a.eD,locale:e.locale,stageName:e.stageName});var C=n(415787);let w=(0,i.XV)("reportResult"),_=()=>window.performance?.now?Date.now()-window.performance.now():"unknown";function b({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){let{serverData:l}=t,d=(0,o.KJ)(e),p=`${n.type}.${d}`,u=`${n.type}.sampled.${d}`,m=void 0!==i&&{tags:{isAuth:i}}||void 0;(0,s.A9)(n.reason?p.concat(`.${n.reason}`):p,m),(0,s.A9)(n.reason?u.concat(`.${n.reason}`):u,{...m,sampleRate:.03});let y=`${n.type}.${d}`;a.is||((0,C.S0)(`${y}.spans`,n.spans.length,{sampleRate:1}),(0,C.S0)(`${y}.annotatios`,Object.keys(n.annotationMap).length,{sampleRate:1})),"COMPLETE"!==n.type&&w(`Abort metric ${d}`,n);let f=_();if("unknown"===f){w(`Unable to convert to absolute times for ${d} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${d}`,m);return}if(a.is&&(window.PWT_LAB_DATA=c(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!a.is){let o=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:i}=n,s=JSON.stringify(T({traceId:i,actionName:d,result:n,timeOrigin:f,serverDataToJoin:o&&l||null}));a.is||(0,C.S0)(`${y}.size`,s.length,{sampleRate:1}),(0,r.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:s,report_context:JSON.stringify(k(t))}}),w(`PinTrace ${d} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${i}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},886303:(e,t,n)=>{n.d(t,{Z:()=>r});let r=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},914495:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(360284),a=n(886303),o=n(147921);let i=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){let{category:n,timing:s,isDeferred:l,isExternal:c,isVisuallyCompleteRequired:d}=e;if(!s.responseEnd||"image"===n&&!d)return null;let p=!1,u=s.serverTiming?.find(e=>"spanId"===e.name)?.description;return u||(p=!0),{name:i(e),id:u||(0,o.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,a.Z)(s),binaryAnnotationMap:{isRandomSpanId:(0,r.qr)(p),category:(0,r.sk)(n),decodedBodySize:(0,r.cC)(s.decodedBodySize||0),initiatorType:(0,r.sk)(s.initiatorType),isDeferred:(0,r.qr)(l),isExternal:(0,r.qr)(c),name:(0,r.sk)(s.name),nextHopProtocol:(0,r.sk)(s.nextHopProtocol),transferSize:(0,r.cC)(s.transferSize||0)}}}},326081:(e,t,n)=>{let r;n.d(t,{Bn:()=>y,Kj:()=>m,PJ:()=>c,UQ:()=>S,Ux:()=>d,on:()=>s,v2:()=>p});var a=n(314851),o=n(399022);let i={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},s=()=>{i.longTaskDurations=[]},l=(0,a.Z)(()=>i.elementTimings),c=()=>l.get(),d=e=>{e&&l.save(),i.elementTimings=[]},p=()=>i,u=0,m=()=>u,y=()=>r,f=e=>e.reduce((e,{identifier:t,loadTime:n,renderTime:r})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof r?[{identifier:t,loadTime:n,renderTime:r}]:[]),[]),S=()=>{(0,o.Z)({type:"element",buffered:!0},e=>{i.elementTimings=i.elementTimings.concat(f(e.getEntries()))}),(0,o.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>i.longTaskDurations.push(e.duration))},()=>s()),(0,o.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),n=t.length,a=t[n-1];a&&(u=n,i.largestContentfulPaint=a.renderTime||a.loadTime||null,r=a.renderTime||a.loadTime||null)}),(0,o.Z)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(i.cumulativeLayoutShiftScore+=e.value)})})}},317683:(e,t,n)=>{n.d(t,{Z:()=>r});let r=e=>{let{deviceType:t,isBot:n,isSocialBot:r}=e;return`coreWebVitalsLite.v1.${r&&"socialBot"||n&&"bot"||"nonbot"}.${t}`}},399022:(e,t,n)=>{n.d(t,{Z:()=>r});let r=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{let r=new window.PerformanceObserver(t);return r.observe(e),window.addEventListener("beforeunload",()=>{r.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),r}catch(e){return null}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90917-75a5464e93bc05f2.mjs.map