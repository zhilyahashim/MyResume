"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92533],{764290:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669";let i=r},577272:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let i=r},845614:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(978993);let i="business.referral.referral_code",o="business.referral.offer_status",a="claimed",s={setData:({referralCode:e})=>{(0,r.Nh)(i,e)},getData:()=>(0,r.qn)(i),setSenderOfferClaimed:()=>{(0,r.Nh)(o,a)},resetStatus:()=>{(0,r.L_)(i)},shouldClaimReferral:()=>null!==(0,r.qn)(i)&&(0,r.qn)(o)!==a}},619348:(e,t,n)=>{n.d(t,{DW:()=>o,I:()=>i,oo:()=>r,zI:()=>a});let r=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},i=.18,o=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,a=e=>{let t=e.replace("#",""),n=parseInt(t.substr(0,2),16);return(299*n+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},785220:(e,t,n)=>{function r(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(!o(e[r],t[r],n+1))return!1;return!0}function i(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!(r in t)||!o(e[r],t[r],n+1))return!1;return!0}function o(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let o=Object.prototype.toString.call(e);if(o!==Object.prototype.toString.call(t))return!1;switch(o){case"[object Array]":return r(e,t,n);case"[object Set]":return r(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return i(e,t,n);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function a(e,t){return o(e,t,0)}n.d(t,{Z1:()=>i,ZP:()=>a,qP:()=>r})},703454:(e,t,n)=>{n.d(t,{Bx:()=>i,N4:()=>a,is:()=>s,lt:()=>r,oM:()=>o});let r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),s=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},803611:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(703454),i=n(144326),o=n(754143);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.H)(),a=(0,i.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||r.lt(a))}}},602185:(e,t,n)=>{n.d(t,{Z:()=>r});let r=n(986782).Z},526990:(e,t,n)=>{n.d(t,{$S:()=>r,V$:()=>i,_4:()=>a,iY:()=>s,mR:()=>o});let r="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},144326:(e,t,n)=>{n.d(t,{ZP:()=>a,oz:()=>i,q6:()=>r});let{Provider:r,Consumer:i,useHook:o}=(0,n(498490).Z)("i18n"),a=o},647757:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},333733:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(667294),i=n(883119),o=n(876594),a=n(793874),s=n(635284),l=n(556712),d=n(785893);function c({children:e,footerConfig:t,headerConfig:n,height:c,hideOnScroll:u,hideOnScrollState:{isHidden:p,updateHiddenState:_},noPadding:h,paddingY:m=l.og,type:f,zIndex:g}){let y,b;let{headerLimitedOverflow:w,ignoreObstructions:x,zIndexForGestaltBug:v}=n||{},{appUpsellFooterConfig:S,footerInLego:E,navFooterConfig:I}=t||{},T=!!S,P="header"===f?"top":"bottom",A=(0,a.vs)(),O=(0,r.useRef)(null),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{try{if(!x){let e=O.current;C.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,C.current instanceof HTMLElement&&s.Z.addObstruction(P,C.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!x&&C.current instanceof HTMLElement&&s.Z.removeObstruction(P,C.current)}},[x,w,P,A]);let R="top"===P?"relative":"fixed",j=(c??l.R$)+(n?.overrideTop||0),N=u||I?{transition:E?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===P?-j:j}px)`,opacity:E?0:1}:Object.freeze({})}:{},Z="relative"!==R||n?.noGutter?0:2,D=Z?-Z:0;A&&("header"===f?y=-1:b=-1);let L=n?.isTransparentBackground&&o.o7L||n?.isTranslucent&&(A?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||o.k95;return(0,d.jsx)(i.xu,{ref:O,bottom:"footer"===f,dangerouslySetInlineStyle:{__style:{top:y,bottomStyle:b,...!g||v?{zIndex:v||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:l.UB,marginBottom:-l.UB,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:l.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N}},"data-test-id":f,display:T?"flex":void 0,height:c&&!E?c:void 0,left:!0,marginEnd:E?"auto":D,marginStart:E?"auto":D,onTransitionEnd:()=>{(u||I)&&C.current&&(p?s.Z.removeObstruction(P,C.current):s.Z.addObstruction(P,C.current))},position:R,right:!0,top:"header"===f,width:E||"fixed"!==R?void 0:"100%",zIndex:v?void 0:g,children:(0,d.jsx)(i.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:L,height:E?T?void 0:c??l.R$:"100%",boxShadow:E?l.KJ:void 0,marginBottom:E&&!I?.docked?16:void 0,...w?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:E||t?.alignCenter?"flex":void 0,marginEnd:E?"auto":void 0,marginStart:E?"auto":void 0,paddingX:("footer"!==f||h?0:4)+Z,paddingY:h?0:m,position:"relative",rounding:E&&!I?.docked?"pill":void 0,width:I?I.footerWidth:T?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},94757:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(883119),i=n(556712),o=n(333733),a=n(727976),s=n(785893);function l({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:l,isTransparentBackground:d,noGutter:c,overrideTop:u,useRoundedCorners:p,zIndexForGestaltBug:_,...h}){let{noPadding:m,paddingY:f=i.og,zIndex:g}=h;return(0,s.jsx)(r.Le,{height:t?i.LV+8*(m?0:f):void 0,top:u||0,zIndex:g||void 0,children:(0,s.jsx)(a.Z,{hideOnScroll:h.hideOnScroll,children:r=>(0,s.jsx)(o.Z,{...h,headerConfig:{isTranslucent:l,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:c,overrideTop:u,zIndexForGestaltBug:_,useRoundedCorners:p},hideOnScrollState:r,type:"header"})})})}},727976:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(667294),i=n(235838);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends r.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),o(this,"handleScroll",(0,i.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,r=window.scrollY,i=r-this.lastScrollPos,o="none",{scrollHeight:a,clientHeight:s}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(s)||(o=i<0?r<=Math.abs((window.scrollMinY||0)+Math.max(i,20))?"start":"none":r>=(window.scrollMaxY||a-s)-Math.max(i,20)?"end":"none");let l=t?.isModal?0:55;e?i>20&&n&&r>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20&&!n||r<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===o&&!n||r<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(r>l||"end"===o)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20||"start"===o)&&n||r<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(i>20||"end"===o)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=r},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}},556712:(e,t,n)=>{n.d(t,{KJ:()=>s,LV:()=>a,R$:()=>r,UB:()=>o,dS:()=>l,og:()=>i});let r=64,i=3,o=100,a=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",l="1px solid #efefef"},753652:(e,t,n)=>{n.d(t,{Q6:()=>u,ZP:()=>l,le:()=>p,qe:()=>d,yU:()=>c});var r=n(785220),i=n(655201);let o=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),a=e=>e;function s(e,t=o,n=a){return function(r){let i=[];return function(...o){let a=i.find(e=>t(e.args,n(o)));if(a)return a.result;let s=r(...o);return i.push({args:n(o),result:s}),e&&i.length>e&&i.shift(),s}}}let l=s(),d=s(1),c=s(void 0,o,e=>[JSON.stringify(e)]),u=s(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,i.Z)(e,t[n]))),p=s(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,r.ZP)(e,t[n])))},983272:(e,t,n)=>{function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});let i=new class{constructor(){r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){let{reason:t}=e;i.windowInFocus=!1,i.onPauseListeners.forEach(e=>e(t))}else i.windowInFocus=!0,i.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>o({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>o({isHidden:!1})),window.addEventListener("blur",()=>o({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>o({isHidden:!1})),window.addEventListener("pagehide",()=>o({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=i},982553:(e,t,n)=>{n.d(t,{JZ:()=>_,Qs:()=>p,jr:()=>h,z:()=>m});var r=n(609326),i=n(118755),o=n(297728),a=n(730212),s=n(864723),l=n(1006),d=n(410150);let c={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122,dweb_unauth_google_fedcm_button_flow_eap:132,mweb_unauth_google_fedcm_button_flow_eap:132},u=(e,t,n,r)=>e?n>=(r?c.auth_dweb_google_fedcm_onetap_modal:c.dweb_unauth_google_fedcm_button_flow_eap)&&(r?t("auth_dweb_google_fedcm_onetap_modal").anyEnabled:t("dweb_unauth_google_fedcm_button_flow_eap").anyEnabled):n>=(r?c.auth_mweb_google_fedcm_onetap_modal:c.mweb_unauth_google_fedcm_button_flow_eap)&&(r?t("auth_mweb_google_fedcm_onetap_modal").anyEnabled:t("mweb_unauth_google_fedcm_button_flow_eap").anyEnabled),p=e=>e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!s.ZP.getItem(r.tr),_=(e,t,n,r)=>{let o=n.browserVersion?parseInt(n.browserVersion.split(".")[0],10):0;return(0,i.i7)(n.browserName??"")&&(e&&u(e,t,o,r)||!e&&"android"===n.platform&&u(e,t,o,r))},h=e=>{let t=(0,d.HG)(),{checkExperiment:n}=(0,o.F)(),{userAgent:r}=(0,a.B)();return p(e)&&_(t,n,r,e.isAuth)},m=(e,t)=>{let n="desktop"===t?"dweb":"mweb",r=e.getMomentType();if("dismissed"===r){let t=e.getDismissedReason();(0,l.My)(`${n}.onetap_modal.dismissed.${t}`)}else(0,l.My)(`${n}.onetap_modal.${r}`)}},791773:(e,t,n)=>{n.d(t,{Z:()=>r});let r=(0,n(667294).createContext)(null)},288544:(e,t,n)=>{n.d(t,{Z:()=>F});var r=n(667294),i=n(983272),o=n(630118),a=n(845729),s=n(248750),l=n(353168),d=n(770975),c=n(2171),u=n(201930),p=n(920301),_=n(431771),h=n(142921),m=n(301567);let f=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(e=>{let n=e.src.replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]){let n=m.rZ(e)?.width||1,i=t[r].downloadSize;return{fileName:r,renderedSize:n,downloadedSize:i,ratio:i/n}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]&&e instanceof HTMLDivElement){let n=m.rZ(e)?.width||1,i=t[r].downloadSize;return{fileName:r,renderedSize:n,downloadedSize:i,ratio:i/n}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(t=>{let{ratio:n,fileName:r,downloadedSize:i}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${i}_${r}`}})})};var g=n(147921),y=n(671481),b=n(730212);let w=(e,t)=>{let n=(0,r.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var x=n(493651),v=n(415787),S=n(785893);let E=["initial_app_load","client_route_push"],I=(0,a.XV)("PwtSurface"),T="NavigationComplete",P="VisuallyComplete",A=(e,t,n,r)=>{let{metricConfig:{metricId:i,pwtStaticContext:o,annotateExperiments:a},annotations:s,binaryAnnotations:l,constraintMap:d,startTime:_,imageTimings:h,isSampled:m,spans:f,traceId:g}=e,y=(0,c.N)({reason:t,annotateExperiments:a,annotations:s,binaryAnnotations:l,constraintMap:d,endTime:n,imageTimings:h,metricId:i,pwtStaticContext:o,startTime:_,traceId:g,spans:f});m&&!r&&(0,p.Z)({metricId:i,pwtStaticContext:o,result:y}),(0,u.D9)()},O=(e,t,n)=>{let{metricConfig:{metricId:r,pwtStaticContext:i,annotateExperiments:a},annotations:d,binaryAnnotations:_,constraintMap:h,startTime:m,imageTimings:g,isSampled:y,spans:b,traceId:w}=e;(0,l.L8)(`PWT_Complete_${(0,o.KJ)(r)}`);let x=(0,c.W)({annotateExperiments:a,annotations:d,binaryAnnotations:_,constraintMap:h,endTime:t,imageTimings:g,metricId:r,pwtStaticContext:i,startTime:m,traceId:w,spans:b});y&&!n&&(0,p.Z)({metricId:r,pwtStaticContext:i,result:x});try{f(String(x.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,u.D9)(),{...e,result:x,status:"DONE"}},C=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let n=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return O(e,n,t)}return I(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},R=(e,t)=>{let{constraint:n,time:r,disablePWTLogging:i}=t,a=(0,o.KJ)(e.metricConfig.metricId);return y.Z?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(I(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:a}),e):(I(`marking constraint "${n}" as complete ${r||performance.now()}`),r?(0,l.ZP)(`constraint_${n}_is_complete`,r):(0,l.ZP)(`constraint_${n}_is_complete`),C({...e,constraintMap:{...e.constraintMap,[n]:r||y.Z.now()}},i)):(I(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:a}),e)},j=(e,t)=>{if(!y.Z){let t=(0,o.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}I(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:r,...i}=e.constraintMap;return C({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:n}})},N=(e,t)=>{if(!y.Z){let t=(0,o.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}I(`updating pwt segment to "${t}"`);let n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}},Z=(e,t)=>{let{metricConfig:n,startTime:r,isSampled:i,disablePWTLogging:a}=t;if(a||"TIMING"!==e.status||r===e.startTime||A(e,"routeUpdatedOnSameSurface",y.Z?.now()||0,a),!n)return{status:"DISABLED",metricConfig:null};let l=(0,o.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===r&&e.constraintMap[T]?((0,s.H)("duplicated_init_route_action",{action:l}),e):(a||("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${l}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${l}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${l}`),(0,s.A9)(`TIMING.sampled.${l}`,{sampleRate:.03}))),R({traceId:(0,u.Vd)()||(0,u.ZP)("initial_app_load"===n.metricId.navigationType,n.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:n,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:T,disablePWTLogging:a}))},D=(e,t)=>{if(I("dispatch action",t),"INIT_ROUTE"===t.type)return Z(e,t.payload);if("TIMING"!==e.status)return I(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":A(e,t.reason,y.Z?.now()||0);let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:r}=t.payload;if(!y.Z)return e;let i=y.Z.now();return I(`adding annotation {${r}: ${i}}`),{...e,annotations:{...e.annotations,[r]:i}};case"BINARY_ANNOTATE":let{name:a,value:l,annotationType:d}=t.payload;return I(`adding binary annotation {${a}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[a]:{value:l,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return R(e,t.payload);case"REMOVE_CONSTRAINT":return j(e,t.payload);case"SET_SEGMENT":return N(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return A(e,"visuallyComplete_noImages",y.Z?.now()||0),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let r=Math.max(...n.map(e=>e.responseEnd||0));return R({...e,imageTimings:n},{constraint:P,time:r})}case"ADD_SUBSPAN":let{startTime:c}=e,{payload:{name:u,startTime:p,endTime:_,annotations:h,binaryAnnotations:m,parentId:f}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,g.Z)(),startTime:p||c,endTime:_,annotationMap:{...h},binaryAnnotationMap:{...m},parentId:f}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,g.Z)(),startTime:y.Z?y.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let b=e.spans.findIndex(e=>e.name===t.payload.name);return b>-1?(e.spans[b].endTime=y.Z?y.Z.now():0,t.payload.annotations&&(e.spans[b].annotationMap={...e.spans[b].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[b].binaryAnnotationMap={...e.spans[b].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let w=(0,o.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:w}),e}},L=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},M=new Set,H=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:a,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:d},sampleRate:c})=>{let u=(0,r.useRef)("NOT_SET"),p=(0,h.Z)(),{getState:_,dispatch:m}=w(D,{status:"DISABLED",metricConfig:null}),f=(0,b.B)();if(u.current!==l&&(u.current=l,p)){let{isAuthenticated:r}=p,i=e&&d&&(s||E).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:r,segment:n},annotateExperiments:a,constraints:[T,...t||[],...o?[P]:[]],pwtStaticContext:p}:null;(0,v.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:r}});let u=!M.has(l);m({type:"INIT_ROUTE",payload:{metricConfig:i,startTime:l?l.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&M.add(l)}let g=_();if((0,r.useEffect)(()=>()=>{M.delete(l)},[l]),(0,r.useEffect)(()=>{let e=e=>{m({type:"ABORT",reason:e})};i.Z.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,r=()=>{let e=Math.abs(window.innerHeight-t),i=Math.abs(window.innerWidth-n),o=window.innerHeight!==t,a=window.innerWidth!==n,s={handler:(0,x.H)(),deviceType:p?.deviceType??"unknown",isAuthenticated:p?.isAuthenticated??"unknown",platform:f.userAgent.platform??"unknown"};if((0,v.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:o,widthChanged:a}}),o&&(0,v.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),a&&(0,v.S0)("webapp.PwtLogger.resizeWidthDelta",i,{sampleRate:1,tags:s}),window.removeEventListener("resize",r),p?.deviceType==="phone"&&(!a&&o&&e<=150||!o&&!a)||p?.deviceType==="desktop"&&!o&&!a){(0,v.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:o,widthChanged:a}});return}m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",r),()=>{let t=_();I("handling unmount",t),"TIMING"===t.status&&A(t,"unmount",y.Z?.now()||0),i.Z.removePauseListener(e),window.removeEventListener("resize",r)}},[]),"TIMING"!==g.status||!g.constraintMap[T])return{state:g,context:null};let{startTime:S,metricConfig:O}=g;return{state:g,context:{abort:e=>m({type:"ABORT",reason:e}),addAnnotation:e=>m({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>m({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,r={},i={},o=null)=>m({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:i,parentId:o}}),getId:()=>S,getMetricId:()=>O.metricId,markConstraintComplete:e=>m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:y.Z?y.Z.now():0}}),removeConstraint:e=>m({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>m({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:O.constraints.includes(P)?e=>m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},r=null)=>m({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:r}}),stopSubspan:(e,t={},n={},r=null)=>m({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:r}})}}},k=()=>{let e=(0,d.E)(),t=!!e;(0,r.useEffect)(()=>{if(t){let t=e?.getMetricId(),n=t?(0,o.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:n})}},[t])};function F({children:e,...t}){let n=(0,_.Z)(),r=L(n),i=t.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth","web_fluid_grid_desktop_auth","web_fluid_grid_desktop_unauth"]:[],o=[...t.annotateExperiments??[],...i],{context:a}=H({...t,annotateExperiments:o,navigationInfo:{navigationType:r,clientNavigation:n}});return k(),(0,S.jsx)(d.S,{value:a,children:e})}},431771:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294),i=n(791773);function o(){return(0,r.useContext)(i.Z)}},957486:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(667294),i=n(545007),o=n(809833),a=n(604759);function s(e){let{name:t,optionsKey:n}=e,s=t===o.fY,l=(0,a.bC)(),d=l?.get(t,n);if(d)throw d;let c=e=>e[t]?.[n],u=(0,i.v9)(({resources:e})=>c(e)?.nextBookmark),p=(0,i.v9)(({resources:e})=>c(e)?.data),_=(0,i.v9)(({resources:e})=>c(e)?.auxData),h=(0,i.v9)(({resources:e})=>c(e)?.error),m=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(s)return m.current;let f={auxData:_,data:p,error:h,isAtEnd:u===o.qx,nextBookmark:u};return(f.auxData!==m.current.auxData||f.data!==m.current.data||f.error!==m.current.error||f.isAtEnd!==m.current.isAtEnd||f.nextBookmark!==m.current.nextBookmark)&&(m.current=f),m.current}},389354:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(883119),i=n(785893);function o({accessibilityLabel:e}){return(0,i.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(r.$j,{accessibilityLabel:e,show:!0})})}},750077:(e,t,n)=>{n.d(t,{Z:()=>r});let r=n(352006).Z},545230:(e,t,n)=>{n.d(t,{i:()=>r});let r={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",URECS:"urecs",VIDEO:"video"}},564573:(e,t,n)=>{n.d(t,{Z:()=>r});let r=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},969119:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(667294);let i=e=>{(0,r.useEffect)(e,[])}},829448:(e,t,n)=>{n.d(t,{Z:()=>r});function r({top:e,right:t,bottom:n,left:r,windowHeight:i,windowWidth:o,threshold:a=0}){return e>=0+a&&r>=0+a&&n<=i-a&&t<=o-a}},981331:(e,t,n)=>{n.d(t,{Zt:()=>z,iK:()=>V,ZP:()=>$});var r=n(667294),i=n(545007),o=n(616550),a=n(883119),s=n(31723),l=n(587435),d=n(679482),c=n(144326),u=n(829413),p=n(730212),_=n(957486),h=n(961754),m=n(892205),f=n(410150),g=n(888027);let y=e=>`BREAK_IN_${e}`,b=new Map,w=e=>{let t=b.get(e);if(t)return t;let n=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:y(e)});return b.set(e,n),n},x=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),w(e),...t.slice(e)];var v=n(970842),S=n(205758),E=n(798920),I=n(995060),T=n(769423),P=n(220708),A=n(507830),O=n(682661),C=n(845873),R=n(74665),j=n(463036),N=n(341184),Z=n(367912),D=n(666287),L=n(179735),M=n(785893);function H(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let k=(0,L.Z)(()=>n.e(90139).then(n.bind(n,838930)),void 0,"app-www-businessNux-BizNuxHomefeedLoader"),F=(0,L.Z)(()=>n.e(44724).then(n.bind(n,648242)),void 0,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed"),U=()=>{let{plpImageRenderData:e}=(0,P.H)(),[t]=e;return t?t.pin_id:null};class B extends r.PureComponent{constructor(...e){super(...e),H(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:U(),feedItem:null}:null}),H(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),H(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),H(this,"gridContainerRef",(0,r.createRef)()),H(this,"renderFeedPin",(e,t)=>{let{feedItemProps:n,isShoppingAffordancesExp:r,location:i,performanceOptimization:o,showSeoMetadata:a,surface:s,trafficSource:l}=this.props,{auxData:d,componentType:c,feedback:u,imageOnly:p,impressionData:_,isEggsUi:h,objectIdStr:m,oneTapSave:f,onFeedItemClick:g,onPinLinkClick:y,shouldAllowProductPriceIndicator:b,showSeoMetadata:w,viewData:x,viewParameter:v,viewType:S}=n||{},E=(i.search||"").includes("force_seo"),I=!!o?.lazyLoadBelowFoldIndex&&t>o.lazyLoadBelowFoldIndex,T=!!o?.priorityFetchAboveFoldIndex&&t<=o.priorityFetchAboveFoldIndex;return(0,M.jsx)(O.ZP,{auxData:d,componentType:c||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:y,showSeoMetadata:a||E||w},duploLazyLoadImage:I,duploOneTapSave:f,duploPriorityFetchImage:T,duploQueryRef:null,duploShouldAllowProductPriceIndicator:b,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:_,isEggsUi:h,isShoppingAffordancesExp:r,objectIdStr:m,pinId:e.id,saveButtonOptions:h?{savedInfo:{boardId:void 0,pinId:e.id,title:void 0,url:void 0},type:"inline"}:void 0,shouldMoveFieldToSeoDrawer:this.props.shouldMoveFieldToSeoDrawer,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:s,trackingParams:e.trackingParams,trafficSource:l,viewData:x,viewParameter:v,viewType:S||1})}),H(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),H(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:n}=this.props,r=this.getBoardId(),i="board"===n&&"BaseBoardPinGrid"===t&&r?e(r):null;return i?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,v.IA)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,v.do)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:r,authHomefeedComponentDidUpdate:i}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),i&&n){let t=i({feedItems:r,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,dynamicHeights:t,emptyState:n,experimentalColumnWidth:i,experimentalGutter:o,feedItemProps:l,feedItems:c,feedItemsAdjustment:p,feedKey:_,feedStoryId:h,getColumnSpanConfig:f,gridConfig:y,i18n:b,pageSize:w,pagination:x,pullToRefresh:v,renderFeedItem:P,serverRender:O,showBizNuxHomefeedLoader:C,trafficSource:R,visuallyCompleteProfilerOptions:L}=this.props,{unauthLandingPinStateForAuthHomefeed:H}=this.state,U=H?.feedItem&&c.length?[H.feedItem,...c]:c,{viewParameter:B,viewType:z}=l||{},{gridMeasurementKey:G}=y||{},V=_+(G?`|${G}`:""),W="user_search"===R,K=W?window.innerWidth-16:void 0,$=U.some(e=>"board"===e.type),Y={columnWidth:(0,E.SY)({deviceType:e,customMWebColumnWidth:K,experimentalColumnWidth:$?236:i}),renderItem:({data:e,itemIdx:t})=>{if(P){let n=P(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,M.jsx)(S.Z,{children:this.renderFeedPin(e,t)});case"user":return(0,M.jsx)(D.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:W,viewParameter:B,viewType:z});case"board":let n=this.props.getReduxBoard(e.id);return(0,M.jsx)(g.default,{boardKey:n?{type:"deprecated",data:n}:null,type:"grid",viewParameter:B,viewType:z});case"topic":return(0,M.jsx)(N.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:B,viewType:z});case"story":if("number"==typeof B)return(0,M.jsx)(j.Z,{slotIndex:t,storyId:e.id,viewParameter:B,viewType:z||1});return null;case"FEED_BREAK_IN":return p&&"breakIn"===p.type&&p.value.content;default:return null}},gutterWidth:(0,E.s)({experimentalGutter:o,trafficSource:R,deviceType:e}),loadItems:x.loadNext,minCols:W?1:2,...y},J=!C&&x.isLoadingNext&&0===U.length&&!this.state.refreshing,q=w&&25>parseInt(w,10),[X,Q,ee]=p?.type==="fullWidthBreakIn"?[U.slice(0,p.value.index),p.value.content,U.slice(p.value.index)]:[U,null,[]],et="desktop"===e&&"flashlight"===R,en=et?0:d.qG;return(0,M.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,M.jsx)(I.Z,{auxData:l?.auxData||null,enabled:!!v,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:l?.viewParameter||null}),(0,M.jsxs)(a.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:en,marginStart:en,opacity:this.state.refreshing?.5:1,children:[(0,M.jsxs)(u.Z,{includeBackgroundImages:L?.includeBackgroundImages,includeVideos:L?.includeVideos,isAtEndOfFeed:!x.hasNext,itemCount:U.length,pinData:L?.pins,children:[U.length?(0,M.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,E.kk)({isDesktop:"desktop"===e}),children:(0,M.jsx)(m.Z.Consumer,{children:e=>(0,M.jsx)(r.Fragment,{children:(0,M.jsxs)(Z.Z,{children:[(0,M.jsx)(s.default,{_dynamicHeights:t,_getColumnSpanConfig:f,cacheKey:V,id:O?_:void 0,items:X,scrollContainerRef:e,serverRender:O,...Y}),Q,ee.length>0&&(0,M.jsx)(s.default,{cacheKey:`${V}_afterBreak`,items:ee,scrollContainerRef:e,...Y})]})})})}):x.isLoadingNext?(0,M.jsx)(T.Z,{}):n??null,x.isLoadingNext&&"board"===R&&q&&(0,M.jsx)(a.$j,{accessibilityLabel:b._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),J&&(0,M.jsx)(a.xu,{column:12,paddingY:2,children:(0,M.jsx)(A.Z,{partialViewportWidth:et})}),C&&(0,M.jsx)(k,{gridContainerRef:this.gridContainerRef,homefeedLoading:x.isLoadingNext}),h&&!this.hideMoreIdeas()&&(0,M.jsx)(a.xu,{marginBottom:6,children:(0,M.jsx)(F,{storyId:h})})]})]})}}function z({feedItems:e,pagination:t,...n}){let{feedItemsAdjustment:r}=n,a=(0,o.TH)(),s=(0,f.ZP)(),d=(0,c.ZP)(),{isAuthenticated:u,isBot:_}=(0,p.B)(),{isBizNuxHomefeedLoadShown:h}=(0,i.v9)(({session:e})=>e),m=e;r?.type==="breakIn"&&(m=x({items:e,breakIn:r.value}));let{experimentalColumnWidth:g,experimentalGutter:y}=(0,l.Z)(),b=(0,C.gC)();return(0,M.jsx)(B,{...n,deviceType:s,experimentalColumnWidth:g,experimentalGutter:y,feedItems:m,getReduxBoard:b,i18n:d,isAuthenticated:u,location:a,pagination:t,showBizNuxHomefeedLoader:!!h,showSeoMetadata:_||!u})}function G({isAtEnd:e,isFetching:t,fetchMore:n,refresh:r,...o}){let a=(0,i.v9)(({feeds:e})=>e[o.feedKey]??[]),s=(0,i.v9)(({desktopStories:e})=>e),{featuredBoardStoryId:l,feedStoryId:d}=(0,R.Z)(a,s);return(0,M.jsx)(z,{...o,featuredBoardStoryId:l,feedItems:a,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>r()}})}function V({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:r},...i}){return(0,M.jsx)(G,{...i,fetchMore:n,isAtEnd:e,isFetching:t,refresh:r})}function W({resourceConfig:e,...t}){let n=(0,h.Z)(e);return(0,M.jsx)(V,{...t,resource:n})}function K({resourceRef:e,...t}){let{isAtEnd:n}=(0,_.Z)(e),{fetchMore:r,refresh:i}=e;return(0,M.jsx)(G,{...t,fetchMore:r,isAtEnd:n,isFetching:!1,refresh:i})}function $({resourceConfig:e,resourceRef:t,...n}){return t?(0,M.jsx)(K,{...n,resourceRef:t}):(0,M.jsx)(W,{...n,resourceConfig:e})}},970842:(e,t,n)=>{n.d(t,{IA:()=>o,cV:()=>i,do:()=>a});let r={},i=e=>{r[e]&&r[e].handlePullToRefresh()},o=(e,t)=>{r[e]=t},a=e=>{delete r[e]}},205758:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(410287),i=n(785893);let o=({children:e})=>(0,i.jsx)(r.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){let t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},339712:(e,t,n)=>{n.d(t,{E:()=>r,Z:()=>o});let{Provider:r,useHook:i}=(0,n(498490).Z)("VerticalNav",{width:0}),o=i},210173:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(339712);function i(){let{width:e}=(0,r.Z)();return e}},410287:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(883119),i=n(785893);function o({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:o,rounding:a,fullWidth:s=!1,pressState:l="none",accessibilityLabel:d,role:c,dataTestId:u}){let p=(Array.isArray(l)?l:[l]).includes("compress");return(0,i.jsx)(r.iP,{accessibilityLabel:d,dataTestId:u,fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:o&&(({event:e})=>o(e)),role:c,rounding:a,tapStyle:p?"compress":"none",children:e})}},605810:(e,t,n)=>{n.d(t,{H:()=>r,W:()=>i});let{Provider:r,useMaybeHook:i}=(0,n(498490).Z)("PinCreateDeleteContext")},462888:(e,t,n)=>{n.d(t,{ET:()=>s,UQ:()=>l,dv:()=>d,xZ:()=>u,yh:()=>p});var r,i=n(667294),o=n(498490),a=n(785893);let s={NONE:"NONE",GROUP:"GROUP",SECRET:"SECRET",ARCHIVED:"ARCHIVED"},l={NONE:0,ARCHIVED:1,GROUP:2,SECRET:3},d=((r={}).COLORS="COLORS",r.CREATED_BY_ME="CREATED_BY_ME",r.FAVORITED="FAVORITED",r.FAVORITED_AND_CREATED="FAVORITED_AND_CREATED_BY_ME",r.INTERESTS="INTERESTS",r.NONE="",r),{Provider:c,useMaybeHook:u}=(0,o.Z)("ProfileViewContext");function p({children:e}){let[t,n]=(0,i.useState)(),[r,o]=(0,i.useState)(new Map),[s,l]=(0,i.useState)(),[u,p]=(0,i.useState)(),[_,h]=(0,i.useState)(d.NONE),[m,f]=(0,i.useState)(0),[g,y]=(0,i.useState)(),b=(0,i.useCallback)((e,t)=>{o(new Map(r.set(e,t)))},[r]),w=(0,i.useMemo)(()=>({boardPinDensity:t,boardSortOrder:r,profileBoardView:s,profilePinDensity:u,profileFollowingSelectedIndex:m,selfProfilePinFilter:_,setBoardPinDensity:n,setSelfProfilePinFilter:h,updateBoardSortOrder:b,selfProfileBoardFilter:g,setSelfProfileBoardFilter:y,setProfileBoardView:l,setProfilePinDensity:p,setProfileFollowingSelectedIndex:f}),[t,r,s,u,m,_,g,b]);return(0,a.jsx)(c,{value:w,children:e})}},891880:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(667294),i=n(477058),o=n(785220),a=n(49985),s=n(785893);class l extends r.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:r}=this.props;e({viewData:t,viewParameter:n,viewType:r})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:n,viewParameter:r,viewType:i}=this.props;r===e.viewParameter&&i===e.viewType&&(0,o.ZP)(n,e.viewData)||t({viewData:n,viewParameter:r,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:n,objectIdStr:r,viewData:i,viewParameter:o,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(a.Z,{auxData:e,clientTrackingParams:d,component:n,objectIdStr:r,viewData:i,viewParameter:o,viewType:l,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:n}=(0,i.sV)();return(0,s.jsx)(l,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},49985:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(667294),i=n(488792),o=n(1006);let a=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),s=({viewType:e,viewParameter:t,viewData:n,auxData:r,objectIdStr:i,component:s,clientTrackingParams:l,element:d},c)=>{let u=a({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:r,object_id_str:i,component:s,clientTrackingParams:l,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),c(u)};function l(e){let{auxData:t,clientTrackingParams:n,children:o,component:a,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,_=(0,i.Z)(),h=JSON.stringify(t),m=JSON.stringify(c);return(0,r.useEffect)(()=>{s(e,_)},[_,h,n,a,l,d,m,u,p]),r.Children.only(o)}},115642:(e,t,n)=>{n.d(t,{Nb:()=>s,Of:()=>l,YO:()=>a,ZP:()=>u,x4:()=>c});var r=n(667294),i=n(753652),o=n(590045);let a=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?o.Uj:o.zT:1,s=(0,i.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:r,viewportSize:i,maxWidth:o,descriptionPaneWidth:a,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:l,isCommentAttachmentSelectorOpen:d,isCommentThreadExpanded:c,isMediaViewerOpen:u,isPinNoteExpanded:p,isProductDetailsExpanded:_,isShoppingModuleExpanded:h,setIsCommentAttachmentSelectorOpen:m,setIsCommentThreadExpanded:f,setIsMediaViewerOpen:g,setIsPinNoteExpanded:y,setIsProductDetailsExpanded:b,setIsShoppingModuleExpanded:w,closeupWithinMasonryEnabled:x,peekCloseupEnabled:v,isInRemoveMagnifyingGlassVariant:S,setAbortNoActionPlacementTimeout:E,clientTrackingParams:I,isCloseupMediaViewerOpen:T,setIsCloseupMediaViewerOpen:P,calculatedImageHeight:A,setCalculatedImageHeight:O})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:r,viewportSize:i,maxWidth:o,descriptionPaneWidth:a,isCommentAttachmentSelectorOpen:d,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:l,isCommentThreadExpanded:c,isCloseupMediaViewerOpen:T,isMediaViewerOpen:u,isPinNoteExpanded:p,isProductDetailsExpanded:_,isShoppingModuleExpanded:h,setIsCommentAttachmentSelectorOpen:m,setIsCommentThreadExpanded:f,setIsCloseupMediaViewerOpen:P,setIsMediaViewerOpen:g,setIsPinNoteExpanded:y,setIsProductDetailsExpanded:b,setIsShoppingModuleExpanded:w,closeupWithinMasonryEnabled:x,peekCloseupEnabled:v,isInRemoveMagnifyingGlassVariant:S,setAbortNoActionPlacementTimeout:E,clientTrackingParams:I,calculatedImageHeight:A,setCalculatedImageHeight:O})),l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:o.u6,descriptionPaneWidth:o.u6-o.Gg,inCommentFooterRedesignExp:!1,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentAttachmentSelectorOpen:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{}},d=(0,r.createContext)(l);function c(){let e=(0,r.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let u=d},590045:(e,t,n)=>{n.d(t,{$T:()=>y,CI:()=>a,Ch:()=>l,ER:()=>g,Gb:()=>d,Gg:()=>i,Hf:()=>x,Ie:()=>_,KP:()=>h,Kn:()=>s,O5:()=>b,Uj:()=>c,bx:()=>m,d2:()=>p,g9:()=>f,iB:()=>v,rv:()=>w,u6:()=>o,zT:()=>u});var r=n(883119);let i=508,o=1016,a=488,s=992,l=672,d=1176,c=.6,u=.84,p=40,_=72,h=740,m=912,f=32,g=16,y=24,b=2,w=1,x=new r.Ry(5),v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},220708:(e,t,n)=>{n.d(t,{E:()=>d,H:()=>l});var r=n(609326),i=n(864723);let o=e=>e>=Date.now()-72e5,a=(e,t)=>{let n=[];if(e)for(let r of e)(!t||r.is_shared)&&o(r.ts)&&n.push(r);return n},s=e=>{let t={};if(e)for(let n of e)n.is_shared&&o(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t},l=()=>{let e=(0,i.M0)().getItem(r.uc)??[],t=a(e,!1),n=a(e,!0),o=t.map(e=>e.first_pin_image_signature),l=n.map(e=>e.first_pin_image_signature),d=s(e);return{extraPlpImages:o,plpImageRenderData:t,extraBlpImages:a((0,i.M0)().getItem(r.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:l,sharedPinData:d}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n].id!==t[n].id)return!1;return!0}},814779:(e,t,n)=>{n.d(t,{E:()=>a,S:()=>s});var r=n(667294),i=n(786525);let o="_loggingInNotHome",a=e=>{e?(0,i.Nh)(o,1):(0,i.L_)(o)},s=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e&&(0,i.qn)(o)}},699431:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(883119),i=n(793874),o=n(785893);function a({color:e,image:t,isSelected:n,title:a}){let s=(0,i.vs)();return(0,o.jsxs)(r.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:s?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(r.zd,{height:48,rounding:"circle",width:48,children:(0,o.jsx)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??""})}),(0,o.jsx)(r.xu,{marginEnd:3,marginStart:2,children:(0,o.jsx)(r.xv,{color:n?"inverse":s?"light":"dark",weight:"bold",children:a})})]})}},614785:(e,t,n)=>{var r;n.d(t,{b:()=>i});let i=((r={})[r.False=0]="False",r[r.True=1]="True",r)},376574:(e,t,n)=>{n.d(t,{Z:()=>eD});var r=n(667294),i=n(545007),o=n(616550),a=n(883119),s=n(252071),l=n(609326),d=n(259232),c=n(845614),u=n(602185),p=n(989820),_=n(295393),h=n(476198),m=n(144326),f=n(89393),g=n(876597),y=n(94757),b=n(775383),w=n(982553),x=n(297728),v=n(248750),S=n(288544),E=n(142921),I=n(730212),T=n(961754),P=n(750077),A=n(389354),O=n(864723),C=n(978993),R=n(499671),j=n(1006),N=n(901450),Z=n(868808),D=n(410150),L=n(383399),M=n(891880),H=n(243583),k=n(981331),F=n(732988),U=n(24472),B=n(656817),z=n(488792),G=n(955937),V=n(235838),W=n(829448),K=n(928395),$=n(785893);let Y={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},J={HOME:1,BOARD:2,USE_CASE:3};function q({currentTabIndex:e,tabBoards:t,useCaseTabs:n,isResUserWithUseCaseTabs:s=!1}){let d=(0,r.useRef)(null),c=(0,r.useRef)(!1),{width:u,height:_}=(0,B.Z)()||{width:0,height:0},h=(0,r.useRef)([]),f=(0,o.k6)(),g=(0,m.ZP)(),y=(0,z.Z)(),b=(0,O.M0)().getItem(l.B9),[w,x]=(0,r.useState)(!!b),v=(0,i.I0)(),S=(e,t)=>v((0,K.r)(e,t)),E=t.length+n.length;h.current.length!==E&&(h.current=Array(E).fill(null).map((e,t)=>h.current[t]||(0,r.createRef)()),t.length&&n.length&&s&&(h.current=[...h.current.slice(t.length),...h.current.slice(0,t.length)]));let I=(t.length||n.length)&&s?[...n.filter(e=>e).map(({id:e,display_name:t},n)=>({href:`/?useCaseId=${String(e)}`,text:(0,$.jsx)(a.xu,{overflow:"hidden",children:t}),boardId:e,tabType:J.USE_CASE,ref:h.current[n]})),...t.filter(e=>e).map(({id:e,name:t},r)=>({href:`/?boardId=${String(e)}`,text:n.length?(0,$.jsx)(a.xu,{overflow:"hidden",children:t}):(0,$.jsx)(a.xu,{dangerouslySetInlineStyle:Y,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:J.BOARD,ref:h.current[n.length+r]}))]:[...t.filter(e=>e).map(({id:e,name:t},r)=>({href:`/?boardId=${String(e)}`,text:n.length?(0,$.jsx)(a.xu,{overflow:"hidden",children:t}):(0,$.jsx)(a.xu,{dangerouslySetInlineStyle:Y,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:J.BOARD,ref:h.current[r]})),...n.filter(e=>e).map(({id:e,display_name:n},r)=>({href:`/?useCaseId=${String(e)}`,text:(0,$.jsx)(a.xu,{overflow:"hidden",children:n}),boardId:e,tabType:J.USE_CASE,ref:h.current[t.length+r]}))],T=t.length||n.length?[{href:"/",text:(0,$.jsx)(a.xu,{children:g._('All', 'homefeed.moreIdeasTab.homefeedTab', 'Homefeed tab')}),tabType:J.HOME},...I]:null,P=e=>e===J.HOME?11081:11082,A=(0,r.useRef)([]),C=(e,t,n,r,i)=>{let o={};return o=t?e?i[n-r.length]||{}:r[n]||{}:e?i[n]||{}:r[n-i.length]||{},{id:o?.id||"",title:o?.name||o?.display_name||""}},R=(0,r.useCallback)(()=>{h&&h.current.length&&h.current.forEach((e,r)=>{if(e?.current){let i=s?!n[r]:!!t[r],{id:o,title:a}=C(i,s,r,n,t),l=e.current.getBoundingClientRect();(0,W.Z)({left:l.left,right:l.right,top:l.top,bottom:l.bottom,windowHeight:_,windowWidth:u})&&o&&!A.current.includes(o)&&(y({event_type:13,view_type:1,view_parameter:92,component:13184,element:i?P(J.BOARD):15945,object_id_str:o,aux_data:i?{board_id:o,tab_title:a,referrer:19}:{use_case_id:o,tab_title:a,index:r}}),A.current.push(o))}})},[h,y,t,n,_,u,s]),j=(0,G.Z)(()=>{y({event_type:110,view_type:1,view_parameter:92,component:13184,element:15945})},1e3),N=(0,V.Z)(()=>{R(),n.length&&j()},50);(0,r.useEffect)(()=>{R();let e=d.current;return e&&e.addEventListener("scroll",N),()=>{e?.removeEventListener("scroll",N)}},[R,N]),(0,r.useEffect)(()=>()=>{c.current&&(window.cancelAnimationFrame(c.current),c.current=null)});let Z=e=>{let t=T?.[e];if(t){let n=t.tabType===J.USE_CASE,i=n&&(0,r.isValidElement)(t.text)?t.text.props.children:null;S(t.boardId,e),y({event_type:101,view_type:1,view_parameter:92,component:13184,element:n?15945:P(t.tabType),aux_data:n?{use_case_id:t.boardId,tab_title:i,index:e}:{index:e.toString(),board_id:t.boardId,referrer:19},object_id_str:t.boardId})}},D=e=>T?{pathname:(T[e]||T[0]).href,state:(T[e]||T[0]).locationState||void 0}:{};if(!T)return null;let L=()=>{x(!0),(0,O.M0)().setItem(l.B9,!0)},M=T.map(e=>({href:e.href,text:e.text,ref:e.ref})),H=M[e]?.ref,k=H&&"string"!=typeof H&&"current"in H&&H.current;return(0,$.jsxs)(a.xu,{ref:d,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:[(0,$.jsx)(a.mQ,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{Z(e);let{pathname:t,state:n}=D(e);f.push(t,n)},tabs:M}),s&&e>=1&&e<=n.length&&k&&!w&&(0,$.jsx)(p.a3,{eligibleIds:[507155],placementId:1000590,children:({complete:e,dismiss:t})=>(0,$.jsx)(a.Li,{anchor:H?.current,idealDirection:"down",message:g._('Find ideas faster with tabs! Then just tap an idea to save it', 'usecasefeed.tab.edu.tooltip.message', 'Use Case Feed Tooltip Message'),onDismiss:()=>{L(),t()},primaryAction:{onClick:()=>{L(),e()},text:g._('Got it!', 'usecasefeed.tab.edu.tooltip.primaryAction', 'Use Case Feed Tooltip Primary Action')}})})]})}var X=n(220708),Q=n(814779),ee=n(969119),et=n(614785);function en(){let[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),o=(0,z.Z)(),s=(0,m.ZP)(),l=s._('Welcome to your home feed!', 'new.user.welcome.header', 'Welcome message header for new users'),d=s._('Explore ideas picked just for you', 'new.user.welcome.subheader', 'Welcome message subheader to educate new users that their Homfeed is personalized');(0,ee.Z)(()=>{o({event_type:13,view_type:1,view_parameter:92,component:15204})});let c=(0,T.Z)({name:"UserStateResource",options:{state:"NUX_SKIPPED"}}).data;return(0,r.useEffect)(()=>{void 0!==c&&(t(l),i(c===et.b.True?"":d))},[c]),(0,$.jsxs)(a.xu,{margin:2,marginBottom:4,marginTop:4,paddingX:2,children:[(0,$.jsx)(a.xu,{marginBottom:1,children:(0,$.jsx)(a.X6,{size:"400",children:e})}),(0,$.jsx)(a.xv,{size:"300",children:n})]})}var er=n(870136),ei=n(335108),eo=n(66560),ea=n(202129),es=n(415787),el=n(179735);function ed(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ec=(0,el.Z)(()=>n.e(30157).then(n.bind(n,758269)),void 0,"app-www-pages-duplo-CoreActionsHeader"),eu=(0,el.Z)(()=>n.e(63956).then(n.bind(n,598821)),void 0,"app-www-stories-FullWidthPinStory"),ep=(0,el.Z)(()=>n.e(26451).then(n.bind(n,191757)),void 0,"app-www-Homefeed-HomefeedMoreIdeasTabContent"),e_=(0,el.Z)(()=>n.e(77591).then(n.bind(n,681313)),void 0,"app-www-Homefeed-HomefeedUseCaseTabContent"),eh=(0,el.Z)(()=>n.e(44985).then(n.bind(n,499422)),void 0,"app-www-stories-LandingPageStory-LandingPageStory"),em=(0,r.lazy)(()=>n.e(92968).then(n.bind(n,892968))),ef=(0,r.lazy)(()=>Promise.all([n.e(13377),n.e(24698)]).then(n.bind(n,713377))),eg=(0,r.lazy)(()=>n.e(53062).then(n.bind(n,753062))),ey=(0,r.lazy)(()=>n.e(27733).then(n.bind(n,827733))),eb=(0,r.lazy)(()=>n.e(97007).then(n.bind(n,297007))),ew=(0,r.lazy)(()=>n.e(29310).then(n.bind(n,829310))),ex={feedKey:er.xJ,trafficSource:er.WV,resourceName:er.om,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},ev=()=>({includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,eo.AF)())}),eS=()=>{let e=(0,i.I0)(),t=(0,i.v9)(({feeds:e})=>e[er.xJ]),n=(0,i.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux);(0,r.useEffect)(()=>{t&&t.length>0&&n&&e((0,ei.H5)(!1))},[e,t,n])},eE=()=>{let{isGraphQLEnabledInGeneral:e}=(0,H.nF)(),{locale:t}=(0,I.B)(),n=(0,eo.AF)();return({feedItems:r,prevFeedItems:i,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:{pinId:a,feedItem:s}})=>{if(!r.length)return null;if(o&&i.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),n=e(i,5),o=e(r,5),a={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,es.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:a}),JSON.stringify(n)===JSON.stringify(o)&&(0,es.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:a})}if(a&&!e){if(i.length>0&&i[0]!==r[0])return(0,O.M0)().removeItem(l.uc),{feedItem:null,pinId:null};if((0===i.length||i[0]===r[0]&&i.length!==r.length||!s)&&n[a]&&!r.slice(0,5).some(({id:e})=>e===a))return{feedItem:{id:a,type:"pin",trackingParams:r[0].trackingParams},pinId:a}}return null}},eI={first_page_size:"25",page_size:"10"},eT=({webMobileHomeFeedTakoverExperience:e})=>{let{feedKey:t,feedItemProps:n,pullToRefresh:r}=ex,s=(0,o.TH)(),l=(0,o.k6)(),d=(0,o.$B)(),c=(0,i.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),{checkExperiment:u}=(0,x.F)(),p={webMobileHomeFeedTakoverExperience:e,location:s,history:l,match:d},_=(0,i.v9)(({feeds:e})=>e[t]??[]),h=!c,m={...er.HH,...h?{...eI}:{in_nux:c},in_local_navigation:u("hfp_nav_tabs_unity_mweb").anyEnabled},f=(0,T.Z)({name:er.om,options:m}),{isAtEnd:g,isFetching:y,fetchMore:b,data:w,refresh:v}=f,S=ev();c&&(0,es.nP)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}}),eS();let E=eE(),I=w?.length?w[0]:null;if(e&&e.display_data?.in_checklist_education&&e.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:I?.id&&(0,$.jsx)(ea.Z,{storyId:I.id,children:e=>(0,$.jsx)(eu,{slotIndex:0,story:e,viewParameter:3833,viewType:604})})}},i=_.slice(1);return(0,$.jsx)(a.xu,{"data-test-id":"homefeed",children:(0,$.jsx)(k.Zt,{authHomefeedComponentDidUpdate:E,feedItemProps:n&&n(p),feedItems:i,feedItemsAdjustment:e,feedKey:t,pagination:{hasNext:!g,isLoadingNext:y,loadNext:()=>b(),refetch:()=>v()},pullToRefresh:r,trafficSource:er.WV,visuallyCompleteProfilerOptions:S})})}return h&&!e?.display_data?(0,$.jsx)(a.xu,{"data-test-id":"homefeed-ssr",children:(0,$.jsx)(k.iK,{authHomefeedComponentDidUpdate:E,feedItemProps:n&&n(p),feedKey:er.xJ,pullToRefresh:r,resource:f,serverRender:!0,trafficSource:er.WV,visuallyCompleteProfilerOptions:S})}):(0,$.jsx)(a.xu,{"data-test-id":"homefeed",children:(0,$.jsx)(k.iK,{authHomefeedComponentDidUpdate:E,feedItemProps:n&&n(p),feedKey:t,pullToRefresh:r,resource:f,trafficSource:er.WV,visuallyCompleteProfilerOptions:S})})},eP=(0,el.Z)(()=>n.e(67577).then(n.bind(n,467577)),{ssr:!1}),eA=(0,el.Z)(()=>n.e(45516).then(n.bind(n,445516)),{ssr:!1}),eO=(0,el.Z)(()=>n.e(98885).then(n.bind(n,498885)),{ssr:!1}),eC=(0,el.Z)(()=>n.e(22084).then(n.bind(n,922084)),{ssr:!1}),eR=(0,el.Z)(()=>n.e(80724).then(n.bind(n,780724)),{ssr:!1}),ej=(0,el.Z)(()=>n.e(90193).then(n.bind(n,290193)),{ssr:!1});class eN extends r.PureComponent{constructor(...e){super(...e),ed(this,"state",{...(0,X.H)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:U.e,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1}),ed(this,"claimReferral",e=>{(0,j.My)("mweb.partner.referral.claim.attempt");let t=c.H.getData();s.Z.create("ReferralClaimResource",{referralCode:t,receiverUserId:e}).callUpdate().then(()=>{c.H.setSenderOfferClaimed(),(0,j.My)("mweb.partner.referral.claim.success"),this.props.showToast(({hideToast:e})=>(0,$.jsx)(h.Z,{duration:5e3,href:"/business/install_app",onHide:e,text:this.props.i18n._('You\u2019ve claimed an offer. Launch ads to get started.', 'business_hub.offer_toast.success', 'Toast indicating a referral offer was successfully claimed')}))}).catch(()=>{c.H.resetStatus(),(0,j.My)("mweb.partner.referral.claim.error"),this.props.showToast(({hideToast:e})=>(0,$.jsx)(h.Z,{duration:5e3,onHide:e,text:this.props.i18n._('Sorry, you don\u2019t qualify for this offer', 'business_hub.offer_toast.error', 'Toast indicating a referral offer could not be claimed'),type:"error"}))})}),ed(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:n,extraBlpImages:r}=this.state,i=!t&&e&&504192===e.experience_id,o=i&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&i?(0,$.jsx)(u.Z,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:o?(0,$.jsx)(ej,{experience:e,extraImageInfo:n.length>0?n:r,viewParameter:92,viewType:1}):(0,$.jsx)(eC,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t}=e;return"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{currentUserId:e,dispatchViewedSharedPins:t,isPartner:n,location:r,pwtStaticContext:i,i18n:o,isAuthenticated:a,showToast:s,history:l}=this.props,{sharedPinData:u}=this.state;(0,Q.E)(!1),(0,d.Z)(),u&&Object.keys(u).length>0&&t(u),n&&e&&c.H.shouldClaimReferral()&&this.claimReferral(e),a&&(0,v.S$)({appLoadName:"home_feed_pinteractive",clientNavName:"home_feed_render"},i),r.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),r.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),r.state?.showError&&s(({hideToast:e})=>(0,$.jsx)(h.Z,{duration:5e3,onHide:e,text:o._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- '),type:"error"})),(0,Z.mB)(r.search).show_yip_modal&&(l.replace("/"),this.setState({showYipModal:!0}))}render(){let{checkExperiment:e,currentUserId:t,currentUsername:n,everythingFeedExperience:i,history:o,i18n:s,isAuthenticated:l,isEligibleForCoreActionsHeader:d,isPartner:c,location:h,moreIdeasStory:m,newUserWelcomeStoryExperience:f,webMobileHomeFeedTakoverExperience:g,selectedTabBoardId:w,useCaseTabs:x,tabBoards:v,isResUserWithUseCaseTabs:S}=this.props,{currentTabIndex:E,showUnlinkTokenExpiredModal:I,showDeleteAccountSurveyModal:T,showYipModal:O,shouldDismissCoreActionsHeader:C}=this.state,j=(0,Z.mB)(h.search),N=j&&j.boardId||w,D=x?.find(e=>e.id===N)?.display_name||"";if(i)switch(i.experience_id){case 40002:case 10105:return(0,$.jsx)(u.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,$.jsx)(P.Z,{fallback:(0,$.jsx)(A.Z,{accessibilityLabel:this.props.i18n._('Loading new user education', 'Loading spinner', 'Loading spinner')}),children:c?(0,$.jsx)(eO,{experience:i}):(0,$.jsx)(eA,{experience:i})})});case 500681:return(0,$.jsx)(u.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,$.jsx)(eP,{fallback:(0,$.jsx)(A.Z,{accessibilityLabel:this.props.i18n._('Loading experience', 'loading experience spinner', 'loading experience spinner')})})})}let L="enabled"===e("ap_nux_revamp_mweb_welcome_experience",{dangerouslySkipActivation:!0}).group||"enabled_no_tooltip"===e("ap_nux_revamp_mweb_welcome_experience",{dangerouslySkipActivation:!0}).group,H=l&&e("mweb_hf_core_actions_header").anyEnabled&&d;return(0,$.jsx)(M.Z,{viewParameter:92,viewType:1,children:(0,$.jsx)(R.Z,{view:1,viewParameter:92,children:(0,$.jsxs)(b.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[(0,$.jsx)(F.Z,{text:s._('Home', 'HomePage.HiddenAccessibilityHeader', 'Accessibility h1 at home page')}),i&&L&&(0,$.jsx)(p.a3,{eligibleIds:[506938],experience:i,children:(0,$.jsx)(en,{})}),(!!v?.length||!!x?.length)&&(0,$.jsx)(y.default,{hideOnScroll:l,noPadding:!0,overrideTop:0,children:(0,$.jsx)(a.xu,{paddingY:1,children:(0,$.jsx)(q,{currentTabIndex:E,isResUserWithUseCaseTabs:S,tabBoards:v||[],useCaseTabs:x||[]})})}),m&&(0,$.jsx)(a.xu,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,$.jsx)(ea.Z,{storyId:m.id||"",children:e=>(0,$.jsx)(eu,{slotIndex:0,story:e,viewParameter:92,viewType:1},m.id)})}),!S&&E!==U.e&&N&&(E<=(v?.length??0)?(0,$.jsx)(ep,{boardId:N}):(0,$.jsx)(e_,{index:E,useCaseId:N,useCaseName:D}))||S&&E!==U.e&&N&&(E>(x?.length??0)?(0,$.jsx)(ep,{boardId:N}):(0,$.jsx)(e_,{index:E,useCaseId:N,useCaseName:D}))||(0,$.jsxs)(r.Fragment,{children:[(0,$.jsx)(p._f,{experience:i}),(0,$.jsx)(p.b9,{placementId:40001}),(0,$.jsx)(p.nj,{experience:i}),(0,$.jsx)(_.Z,{placementId:i?.placement_id}),(0,$.jsx)(p.H6,{placementId:1000544}),(0,$.jsx)(p.k6,{placementId:1000558}),(0,$.jsx)(p.a3,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:i,children:(0,$.jsx)(P.Z,{children:(0,$.jsx)(eg,{experience:i})})}),i&&(0,$.jsx)(p.a3,{eligibleIds:[505326],experience:i,children:({complete:e,dismiss:t})=>(0,$.jsx)(r.Suspense,{children:(0,$.jsx)(ew,{complete:e,dismiss:t})})}),i&&(0,$.jsx)(p.a3,{eligibleIds:[505801],experience:i,children:({complete:e})=>(0,$.jsx)(r.Suspense,{children:(0,$.jsx)(eb,{complete:e})})}),f?.display_data?.story&&f.display_data.showUpdatedLandingPageStory&&(0,$.jsx)(eh,{isMoreIdeasTabsVisible:!!v?.length,newUserWelcomeStoryExperience:f}),(0,$.jsxs)(a.xu,{marginTop:v?.length||m?0:2,children:[!C&&H&&(0,$.jsx)(ec,{onDismiss:()=>{this.setState({shouldDismissCoreActionsHeader:!0})},username:n||""}),(0,$.jsx)(eT,{webMobileHomeFeedTakoverExperience:g})]})]}),I&&(0,$.jsx)(P.Z,{children:(0,$.jsx)(a.xu,{"data-test-id":"unlink-expired-token",children:(0,$.jsx)(ey,{onDismiss:()=>{o.replace("/"),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),T&&(0,$.jsx)(P.Z,{children:(0,$.jsx)(em,{isPartner:c,onDismiss:()=>{o.replace("/"),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:n})}),O&&(0,$.jsx)(u.Z,{name:"YearInPreviewConfirmPublishModal",children:(0,$.jsx)(eR,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker()]})})})}}let eZ=[];function eD(){let e;let t=(0,m.ZP)(),n=(0,i.I0)(),r=(0,L.Z)(),{showToast:a}=(0,N.F9)(),s=(0,E.Z)(),d=(0,o.k6)(),c=(0,o.TH)(),{checkExperiment:u}=(0,x.F)(),_="true"===(0,C.qn)("completedMiniRenux"),h=(0,p._P)({id:40001,extraContext:_?{completed_mini_renux:_}:void 0,shouldUsePlacedExperience:!1}),y=(0,p._P)({id:1000115}),b=(0,p._P)({id:1000411}),v=(0,i.v9)(({feeds:e})=>e.homefeed),I=(0,i.v9)(({homefeedTabUI:e})=>e.activeTabBoardId),A=(0,i.v9)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:R,isLimitedLogin:j}=r,Z=r.isAuth?r.id:void 0,M=r.isAuth?r.username:void 0,H=!!r.isAuth&&r.isPartner,k=(0,D.HG)(),F=Array.isArray(v)?v:[],U=!k&&F[0]&&"story"===F[0].type?F[0]:null,B=(0,i.v9)(({stories:e})=>U?e[U.id]:null),z=B&&B.story_type&&B.story_type.startsWith("boards_more_ideas_feed_upsell")?B:null,{data:G}=(0,T.Z)(u("hfp_nav_tabs_unity_mweb").anyEnabled?null:{name:"MoreIdeasTabsBoardsResource",options:{redux_normalize_feed:!0}});e=u("hfp_nav_tabs_unity_mweb").anyEnabled?F.find(({type:e})=>"home_feed_tabs"===e)?.tabs:G;let V=O.ZP.getItem(l.gM);R&&null!=V&&r.createdAt&&!(0,f.Z)(r.createdAt)&&O.ZP.removeItem(l.gM);let W=!1;null!==V&&(W="enabled"===u("ap_bmi_custom_activation_nux_revamp_mweb_v2").group);let K=null;(0,g.Z)(null,r)&&"enabled"===u("ap_bmi_res_custom_activation_nux_revamp_mweb_v2").group&&(W=!0,K=[],null===(0,O.M0)().getItem(l.Jl)&&O.ZP.setItem(l.Jl,"[]"));let Y=W&&V?Array.from(new Map(JSON.parse(V)).keys()):null,{data:J}=(0,T.Z)(W&&(Y||K)?{name:"ApiResource",options:{url:"/v3/usecases/recommendation/",data:{seed_use_cases:Y||K,fields:["nuxusecase.id","nuxusecase.display_name"]}}}:null),{data:q}=(0,T.Z)(R&&u("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:r.id,field_set_key:"core_actions_header"}}:null),X=(0,D.ml)(),Q=(0,w.jr)(r);return(0,$.jsxs)(S.Z,{annotateExperiments:["web_perf_logger_v4"],measureGridVisuallyComplete:!0,surface:"homefeed",children:[Q&&(0,$.jsx)(P.Z,{children:(0,$.jsx)(ef,{})}),(0,$.jsx)(eN,{checkExperiment:u,currentUserId:Z,currentUsername:M,dispatchViewedSharedPins:e=>n((0,ei.dz)(e)),everythingFeedExperience:h,history:d,i18n:t,isAuthenticated:R,isEligibleForCoreActionsHeader:q?.is_eligible_for_core_actions_header,isLimitedLogin:j,isMobile:X,isPartner:H,isResUserWithUseCaseTabs:!!K,location:c,moreIdeasStory:z,newUserWelcomeStoryExperience:b,pwtStaticContext:s,selectedTabBoardId:I,selectedTabIndex:A,showToast:a,tabBoards:e??eZ,useCaseTabs:J??[],webMobileHomeFeedTakoverExperience:y})]})}},870136:(e,t,n)=>{n.d(t,{EP:()=>l,HH:()=>s,WV:()=>o,om:()=>a,xJ:()=>i});var r=n(786974);let i="homefeed",o="feed_home",a="UserHomefeedResource",s={field_set_key:"mobile_grid_item",prepend:!1},l=(0,r.Z)(s)},508629:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(468808);function i(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},928395:(e,t,n)=>{n.d(t,{r:()=>r});let r=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},255507:(e,t,n)=>{function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function i(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,{ND:()=>d,Vp:()=>s,a1:()=>r,b6:()=>l,jg:()=>o,o4:()=>i,ti:()=>a})},335108:(e,t,n)=>{n.d(t,{Cp:()=>d,FK:()=>l,H5:()=>w,MI:()=>m,O0:()=>h,QZ:()=>s,W:()=>y,WF:()=>u,Wz:()=>x,a5:()=>p,dz:()=>g,e0:()=>_,e2:()=>a,iW:()=>b,n1:()=>o,rm:()=>c,xu:()=>f});var r=n(282999),i=n(812477);let o=()=>({type:"DISMISS_UNAUTH_SAVE"}),a=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),s=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),d=()=>({type:"SHOW_NAV_FOOTER"}),c=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),u=()=>({type:"SHOW_REPIN_ANIMATION"}),p=()=>({type:"HIDE_REPIN_ANIMATION"}),_=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),h=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),m=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),f=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),b=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},w=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),x=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,r.bo)(e)?"today":(0,r.dr)(e)?"ideas":t&&(0,r.dZ)(e,t)?"own_section":t&&(0,r.J)(e,t)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,i.Z)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":""})},602290:(e,t,n)=>{n.d(t,{ZN:()=>a,fv:()=>s,hr:()=>o,lD:()=>l});var r=n(252071);function i(e,t){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),a=(e,t,n)=>async r=>{r(o(e,!0));try{await i(e,n).callCreate(),t({event_type:601,object_id_str:e})}catch(t){r(o(e,!1))}},s=(e,t,n)=>async r=>{r(o(e,!1));try{await i(e,n).callDelete(),t({event_type:602,object_id_str:e})}catch(t){r(o(e,!0))}},l=(e,t="")=>n=>r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let r=e[t];n(o(t,r))})})},402151:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>p,yA:()=>l});var r=n(252071),i=n(400416),o=n(900492);function a(e,t,n,i){return r.Z.create("UserFollowResource",{user_id:e,invite_code:i||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function s(e,t=null,n,r){return i=>{a(e,t,n,r).callCreate().catch(()=>i((0,o.P_)(e,!1))),i((0,o.P_)(e,!0))}}function l(e,t=null,n,r){return async i=>{i((0,o.P_)(e,!0)),await a(e,t,n,r).callCreate().catch(t=>{throw i((0,o.P_)(e,!1)),t})}}function d(e,t=null,n){return r=>{a(e,t,n).callDelete().catch(()=>r((0,o.P_)(e,!0))),r((0,o.P_)(e,!1))}}function c(e,t=null,n){return async r=>{r((0,o.P_)(e,!1)),await a(e,t,n).callDelete().catch(t=>{throw r((0,o.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,i.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},900492:(e,t,n)=>{n.d(t,{Ge:()=>d,JS:()=>a,OF:()=>h,P_:()=>s,Q_:()=>p,b8:()=>_,h2:()=>c,h6:()=>u});var r=n(252071),i=n(400416),o=n(235581);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:n,blockContext:i,logContextEvent:o})=>async a=>{a(l(e,!0));let s=await r.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:i}).callCreate().catch(()=>a(l(e,!1)));return o({event_type:54,object_id_str:e}),s},c=(e,t)=>async n=>{n(l(e,!1));let i=await r.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>n(l(e,!0)));return t({event_type:55,object_id_str:e}),i};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>r.Z.create("UserStateResource",{state:e,value:t}).callCreate(),_=(e,t,n)=>(r,a)=>{(0,i.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:a().session.userId}),e(),(0,o.Z)()},t)},h=e=>(0,i.Z)({url:"/v3/register/exists/",data:{email:e}})},403764:(e,t,n)=>{n.d(t,{Z:()=>r});let r={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},74665:(e,t,n)=>{n.d(t,{Z:()=>i});let r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},i=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:n,featuredBoardStoryId:r,feed:i,feedStoryId:o,footerStoryId:a},s,l)=>{let d="story"===s.type&&t[s.id]?.story_type,c="board_ideas_feed"===d,u="board_ideas_preview_detailed"===d,p=!1;if("board_shop_tool_module"===d){let e=t[s.id];p=!!e.custom_properties?.is_full_width}return{feed:i.concat(u||c||p?[]:[s]),featuredBoardStoryId:"featured_boards"===d?s.id:r,feedStoryId:c?s.id:o,footerStoryId:u?s.id:a,boardShopModuleId:p?s.id:e,boardShopModuleIndex:p?l:n}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r},202129:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(545007);function i({children:e,storyId:t}){let n=(0,r.v9)(({stories:e})=>e[t]);return n&&e(n)}},341184:(e,t,n)=>{n.d(t,{Z:()=>E});var r,i,o=n(545007),a=n(167912),s=n(883119),l=n(488792),d=n(730212),c=n(533191),u=n(602290),p=n(144326),_=n(590338),h=n(699431),m=n(785893);let f=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:r,isSelected:i,locale:o,nameTextSize:a,renderAsPill:l,showFollowerCount:d,topicName:c,followerCount:u,image:f})=>{let g=(0,p.ZP)(),y=(0,_.Z)(),b=(0,m.jsx)(s.JO,{accessibilityLabel:g._('Selected', ' - ', ' -- '),color:"inverse",icon:r?"check":"check-circle",size:r?12:24});return l?(0,m.jsx)(h.Z,{color:e||"#767676",image:f,isSelected:i??!1,title:c}):(0,m.jsxs)(s.xu,{"aria-selected":i,position:"relative",children:[(0,m.jsx)(s.zd,{rounding:r||n?4:2,children:(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,m.jsx)(s.xu,{bottom:!0,left:!0,padding:r&&i?1:0,position:"absolute",right:!0,rounding:r&&i?4:0,top:!0,children:(0,m.jsx)(s.Ee,{alt:c,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:f.url??""})}),(0,m.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:r&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:r?4:void 0,top:!0}),r&&i&&(0,m.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,m.jsx)(s.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(s.xv,{align:"center",color:"light",size:a,weight:"bold",children:c})}):(0,m.jsxs)(s.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,m.jsx)(s.xv,{color:"light",size:a,weight:"bold",children:c}),d&&u>=0&&(0,m.jsx)(s.xu,{paddingY:1,children:(0,m.jsxs)(s.xv,{color:"inverse",size:"100",children:[(0,m.jsx)(s.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(o,u,{shortform:!0,shortform_maximum_fraction_digits:1})}),g._('followers', ' - ', ' -- ')]})})]}),i&&(0,m.jsx)(s.xu,{margin:2,position:"absolute",right:!0,top:!0,children:r?(0,m.jsx)(s.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:b}):b})]})},g=void 0!==r?r:r=n(764290),y=({topicRef:e,...t})=>{let n=(0,a.useFragment)(g,e),r=n.images?{url:n.images.url??"",width:n.images.width??0,height:n.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,m.jsx)(f,{backgroundColor:n.background_color??"",followerCount:n.follower_count??0,image:r,topicName:n.name??"",...t})},b=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...r})=>{let i=n||e||t,o=i?.images?.["236x"]||i?.images?.["400x"]||i?.images?.["474x"]||i?.images?.orig||{height:1,url:"",width:1},a=i&&"follower_count"in i&&void 0!==i.follower_count?i.follower_count:-1;return(0,m.jsx)(f,{backgroundColor:i?.background_color||"",followerCount:a,image:o,topicName:i?.name||"",...r})},w=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:r=!1,nameTextSize:i="lg",onTouch:a,padding:p=2,renderAsPill:_,showFollowButton:h=!1,showFollowerCount:f=!1,shouldClickthrough:g=!1,topic:w,viewParameter:x,viewType:v})=>{let S=(0,o.I0)(),E=(0,l.Z)(),{locale:I}=(0,d.B)(),T=(0,m.jsxs)(s.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==w.type?(0,m.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,locale:I,nameTextSize:i,renderAsPill:_,showFollowerCount:f,topic:w.topic,topicBlob:w.topicBlob,topicInfoForContextualExp:w.topicInfoForContextualExp}):(0,m.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,locale:I,nameTextSize:i,renderAsPill:_,showFollowerCount:f,topicRef:w.topicRef}),!!w&&h&&(0,m.jsx)(s.xu,{paddingY:2,children:(0,m.jsx)(c.Z,{followEventType:601,id:w.id,inline:t,invertColors:t,isFollowed:w.is_followed,onFollow:e=>S((0,u.ZN)(e,E)),onUnfollow:e=>S((0,u.fv)(e,E)),pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:x||void 0,viewType:v||void 0})})]}),P="/";return w&&(P=`/topics/${w.id}`),g&&w.slug?(0,m.jsx)(s.Tg,{href:P,onTap:({event:e})=>{a?.(e)},rounding:2,tapStyle:"compress",children:(0,m.jsx)(s.xu,{padding:p,children:T})}):T},x=void 0!==i?i:i=n(577272),v=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:r,isSelected:i=!1,nameTextSize:o="lg",onTouch:s,padding:l=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:_,viewType:h})=>{let f=(0,a.useFragment)(x,e);return(0,m.jsx)(w,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:r,isSelected:i,nameTextSize:o,onTouch:s,padding:l,renderAsPill:d,shouldClickthrough:p,showFollowButton:c,showFollowerCount:u,topic:{id:f.entityId??"",type:"graphql",is_followed:f.is_followed??!1,topicRef:f},viewParameter:_,viewType:h})},S=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:r,decreaseNamePadding:i=!1,isHomefeedTuner:a,isLego:s,isSelected:l=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:p,showFollowButton:_=!1,showFollowerCount:h=!1,shouldClickthrough:f=!1,viewParameter:g,viewType:y})=>{let b=(0,o.v9)(({topics:t})=>t[e]),x=t??b;return(0,m.jsx)(w,{decreaseNamePadding:i,isHomefeedTuner:a,isLego:s,isSelected:l,nameTextSize:d,onTouch:c,padding:u,renderAsPill:p,shouldClickthrough:f,showFollowButton:_,showFollowerCount:h,topic:{id:e,is_followed:!!x?.is_followed,topic:x,topicBlob:n,topicInfoForContextualExp:r,type:"resource"},viewParameter:g,viewType:y})},E=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:r=!1,nameTextSize:i="lg",onTouch:o,padding:a=2,renderAsPill:s,showFollowButton:l=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:p,..._})=>_.topicRef?(0,m.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,nameTextSize:i,onTouch:o,padding:a,renderAsPill:s,shouldClickthrough:c,showFollowButton:l,showFollowerCount:d,topicRef:_.topicRef,viewParameter:u,viewType:p}):(0,m.jsx)(S,{decreaseNamePadding:e,id:_.id,isHomefeedTuner:t,isLego:n,isSelected:r,nameTextSize:i,onTouch:o,padding:a,renderAsPill:s,shouldClickthrough:c,showFollowButton:l,showFollowerCount:d,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp,viewParameter:u,viewType:p})},204942:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(383997);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},601413:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(204942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},383997:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(671002);function i(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},671002:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92533-42cba2e0a1242480.mjs.map